{"ast":null,"code":"import axios from 'axios';\nconst API_BASE_URL = 'http://localhost:8000/api';\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json'\n  }\n});\napi.interceptors.response.use(response => response, error => {\n  var _error$response;\n  if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 401) {\n    window.location.href = '/login';\n  }\n  return Promise.reject(error);\n});\nexport const authAPI = {\n  login: (username, password) => api.post('/auth/login/', {\n    username,\n    password\n  }),\n  logout: () => api.post('/auth/logout/'),\n  getCurrentUser: () => api.get('/auth/me/')\n};\nexport const studentAPI = {\n  getAll: () => api.get('/students/students/'),\n  getOne: id => api.get(`/students/students/${id}/`),\n  create: data => api.post('/students/students/', data),\n  update: (id, data) => api.put(`/students/students/${id}/`, data),\n  uploadCSV: (file, semester) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('semester', semester);\n    return api.post('/students/students/upload_csv/', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n  },\n  getGPA: id => api.get(`/students/students/${id}/gpa/`)\n};\nexport const factorsAPI = {\n  getAll: () => api.get('/students/factors/'),\n  create: data => api.post('/students/factors/', data),\n  update: (id, data) => api.put(`/students/factors/${id}/`, data)\n};\nexport const predictionAPI = {\n  getAll: params => api.get('/predictions/predictions/', {\n    params\n  }),\n  generate: (studentId, semester) => api.post('/predictions/predictions/generate/', {\n    student_id: studentId,\n    semester\n  }),\n  getStatistics: () => api.get('/predictions/predictions/statistics/'),\n  getAtRisk: () => api.get('/predictions/predictions/at_risk/'),\n  generateReport: id => api.post(`/predictions/predictions/${id}/report/`)\n};\nexport const dashboardAPI = {\n  getStats: () => api.get('/dashboard/')\n};\nexport default api;","map":{"version":3,"names":["axios","API_BASE_URL","api","create","baseURL","withCredentials","headers","interceptors","response","use","error","_error$response","status","window","location","href","Promise","reject","authAPI","login","username","password","post","logout","getCurrentUser","get","studentAPI","getAll","getOne","id","data","update","put","uploadCSV","file","semester","formData","FormData","append","getGPA","factorsAPI","predictionAPI","params","generate","studentId","student_id","getStatistics","getAtRisk","generateReport","dashboardAPI","getStats"],"sources":["/home/chegbe/Downloads/spps-project/spps/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = 'http://localhost:8000/api';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  withCredentials: true,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    if (error.response?.status === 401) {\n      window.location.href = '/login';\n    }\n    return Promise.reject(error);\n  }\n);\n\nexport const authAPI = {\n  login: (username, password) => \n    api.post('/auth/login/', { username, password }),\n  logout: () => \n    api.post('/auth/logout/'),\n  getCurrentUser: () => \n    api.get('/auth/me/'),\n};\n\nexport const studentAPI = {\n  getAll: () => \n    api.get('/students/students/'),\n  getOne: (id) => \n    api.get(`/students/students/${id}/`),\n  create: (data) => \n    api.post('/students/students/', data),\n  update: (id, data) => \n    api.put(`/students/students/${id}/`, data),\n  uploadCSV: (file, semester) => {\n    const formData = new FormData();\n    formData.append('file', file);\n    formData.append('semester', semester);\n    return api.post('/students/students/upload_csv/', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    });\n  },\n  getGPA: (id) => \n    api.get(`/students/students/${id}/gpa/`),\n};\n\nexport const factorsAPI = {\n  getAll: () => \n    api.get('/students/factors/'),\n  create: (data) => \n    api.post('/students/factors/', data),\n  update: (id, data) => \n    api.put(`/students/factors/${id}/`, data),\n};\n\nexport const predictionAPI = {\n  getAll: (params) => \n    api.get('/predictions/predictions/', { params }),\n  generate: (studentId, semester) => \n    api.post('/predictions/predictions/generate/', { student_id: studentId, semester }),\n  getStatistics: () => \n    api.get('/predictions/predictions/statistics/'),\n  getAtRisk: () => \n    api.get('/predictions/predictions/at_risk/'),\n  generateReport: (id) => \n    api.post(`/predictions/predictions/${id}/report/`),\n};\n\nexport const dashboardAPI = {\n  getStats: () => \n    api.get('/dashboard/'),\n};\n\nexport default api;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}